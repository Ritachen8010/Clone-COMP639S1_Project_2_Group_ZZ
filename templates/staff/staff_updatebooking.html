{% extends 'base.html' %}

{% block title %}Staff Dashboard{% endblock %}

{% block content %}
<div class="content">
    <!-- insert staff_top_nav.html -->
    {% include 'dashboard_nav/staff_top_nav.html' %}
    <div class="container-fluid">
        <div class="row">
            <!-- insert staff_side_nav.html -->
            {% include 'dashboard_nav/staff_side_nav.html' %}
            <div class="col-xs-12 col-sm-9 ml-sm-auto col-lg-9 px-md-4 py-4 mx-auto mt-5 mb-5">
                <head>
                    <meta charset="UTF-8">
                    <title>Update Booking</title>
                    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                    <style>
                        .container {
                            margin-top: 20px;
                        }
                        .booking-form {
                            margin-bottom: 20px;
                        }
                        .booking-form input, .booking-form select {
                            margin-bottom: 10px;
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>Update Booking</h1>
                        <form method="POST" action="{{ url_for('staff.update_booking', booking_id=booking.booking_id) }}" class="booking-form">
                            <div class="form-group">
                                <label for="first_name">First Name</label>
                                <input type="text" class="form-control" name="first_name" value="{{ booking.first_name }}" required>
                            </div>
                            <div class="form-group">
                                <label for="last_name">Last Name</label>
                                <input type="text" class="form-control" name="last_name" value="{{ booking.last_name }}" required>
                            </div>
                            <div class="form-group">
                                <label for="phone_number">Phone Number</label>
                                <input type="text" class="form-control" name="phone_number" value="{{ booking.phone_number }}" required>
                            </div>
                            <div class="form-group">
                                <label for="date_of_birth">Date of Birth</label>
                                <input type="date" class="form-control" name="date_of_birth" value="{{ booking.date_of_birth }}" required>
                            </div>
                            <div class="form-group">
                                <label for="id_num">ID Number</label>
                                <input type="text" class="form-control" name="id_num" value="{{ booking.id_num }}">
                            </div>
                            <div class="form-group">
                                <label for="start_date">Check-in Date</label>
                                <input type="date" class="form-control" name="start_date" value="{{ booking.start_date }}" required>
                            </div>
                            <div class="form-group">
                                <label for="end_date">Check-out Date</label>
                                <input type="date" class="form-control" name="end_date" value="{{ booking.end_date }}" required>
                            </div>
                            {% if booking.start_date <= today %}
                            <div class="form-group form-check">
                                <input type="checkbox" class="form-check-input" name="check_in" id="check_in">
                                <label class="form-check-label" for="check_in">Check In</label>
                            </div>
                            {% endif %}
                            <button type="submit" class="btn btn-primary">Update Booking</button>
                        </form>
                    </div>
                </body>
            </div>
        </div>
    </div>
</div>
{% endblock %}



